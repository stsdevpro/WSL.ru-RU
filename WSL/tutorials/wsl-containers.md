---
title: Приступая к работе с контейнерами DOCKER с подсистемой Windows для Linux
description: Узнайте, как настроить контейнеры DOCKER в подсистеме Windows для Linux.
keywords: WSL, Windows, виндовссубсистем, Windows 10, Docker, контейнеры
ms.date: 08/28/2020
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: cca53f2079e026fbe765ad13cc67722457f83c23
ms.sourcegitcommit: dee2bf22c0c9f5725122a155d2876fcb2b7427d0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/20/2020
ms.locfileid: "92211788"
---
# <a name="get-started-with-docker-remote-containers-on-wsl-2"></a><span data-ttu-id="a41d4-104">Начало работы с удаленными контейнерами Docker в WSL 2</span><span class="sxs-lookup"><span data-stu-id="a41d4-104">Get started with Docker remote containers on WSL 2</span></span>

<span data-ttu-id="a41d4-105">Это пошаговое руководство поможет приступить к разработке с помощью удаленных контейнеров, **настроив для Windows классическую версию DOCKER, WSL 2** (подсистему Windows для Linux, версия 2).</span><span class="sxs-lookup"><span data-stu-id="a41d4-105">This step-by-step guide will help you get started developing with remote containers by **setting up Docker Desktop for Windows with WSL 2** (Windows Subsystem for Linux, version 2).</span></span>

<span data-ttu-id="a41d4-106">Служба DOCKER Desktop для Windows доступна бесплатно и предоставляет среду разработки для создания, доставки и запуска приложений пакетных.</span><span class="sxs-lookup"><span data-stu-id="a41d4-106">Docker Desktop for Windows is available for free and provides a development environment for building, shipping, and running dockerized apps.</span></span> <span data-ttu-id="a41d4-107">Включив модуль на основе WSL 2, вы можете запускать контейнеры Linux и Windows на рабочем столе DOCKER на одном компьютере.</span><span class="sxs-lookup"><span data-stu-id="a41d4-107">By enabling the WSL 2 based engine, you can run both Linux and Windows containers in Docker Desktop on the same machine.</span></span>

## <a name="overview-of-docker-containers"></a><span data-ttu-id="a41d4-108">Общие сведения о контейнерах Docker</span><span class="sxs-lookup"><span data-stu-id="a41d4-108">Overview of Docker containers</span></span>

<span data-ttu-id="a41d4-109">Docker — это средство для создания, развертывания и запуска приложений с использованием контейнеров.</span><span class="sxs-lookup"><span data-stu-id="a41d4-109">Docker is a tool used to create, deploy, and run applications using containers.</span></span> <span data-ttu-id="a41d4-110">Контейнеры позволяют разработчикам упаковывать приложения с использованием всех необходимых компонентов (библиотек, платформ, зависимостей и т. п.) и поставлять все это как один пакет.</span><span class="sxs-lookup"><span data-stu-id="a41d4-110">Containers enable developers to package an app with all of the parts it needs (libraries, frameworks, dependencies, etc) and ship it all out as one package.</span></span> <span data-ttu-id="a41d4-111">Использование контейнера дает возможность приложению работать одинаково, независимо от настроенных параметров или ранее установленных библиотек на компьютере, где оно запускается, так как он может отличаться от компьютера, который использовался для написания и тестирования кода приложения.</span><span class="sxs-lookup"><span data-stu-id="a41d4-111">Using a container ensures that the app will run the same regardless of any customized settings or previously installed libraries on the computer running it that could differ from the machine that was used to write and test the app's code.</span></span> <span data-ttu-id="a41d4-112">Это позволяет разработчикам сосредоточиться на написании кода, не беспокоясь о том, в какой системе он будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="a41d4-112">This permits developers to focus on writing code without worrying about the system that code will be run on.</span></span>

<span data-ttu-id="a41d4-113">Контейнеры Docker похожи на виртуальные машины, но не создают всю виртуальную операционную систему.</span><span class="sxs-lookup"><span data-stu-id="a41d4-113">Docker containers are similar to virtual machines, but don't create an entire virtual operating system.</span></span> <span data-ttu-id="a41d4-114">Вместо этого контейнер Docker позволяет приложению использовать то же ядро Linux, что и система, в которой оно работает.</span><span class="sxs-lookup"><span data-stu-id="a41d4-114">Instead, Docker enables the app to use the same Linux kernel as the system that it's running on.</span></span> <span data-ttu-id="a41d4-115">Таким образом пакету приложения требуются только те части, которых еще нет на главном компьютере. В результате размер пакета уменьшается, а производительность увеличивается.</span><span class="sxs-lookup"><span data-stu-id="a41d4-115">This allows the app package to only require parts not already on the host computer, reducing the package size and improving performance.</span></span>

<span data-ttu-id="a41d4-116">Постоянная доступность, которую обеспечивает использование контейнеров Docker с такими инструментами, как [Kubernetes](/azure/aks/), — еще одна причина популярности контейнеров.</span><span class="sxs-lookup"><span data-stu-id="a41d4-116">Continuous availability, using Docker containers with tools like [Kubernetes](/azure/aks/), is another reason for the popularity of containers.</span></span> <span data-ttu-id="a41d4-117">Это позволяет создавать несколько версий контейнера приложения в разное время.</span><span class="sxs-lookup"><span data-stu-id="a41d4-117">This enables multiple versions of your app container to be created at different times.</span></span> <span data-ttu-id="a41d4-118">Вместо того чтобы останавливать всю систему для обновления или обслуживания, каждый контейнер (и определенные микрослужбы) можно заменить на лету.</span><span class="sxs-lookup"><span data-stu-id="a41d4-118">Rather than needing to take down an entire system for updates or maintenance, each container (and it's specific microservices) can be replaced on the fly.</span></span> <span data-ttu-id="a41d4-119">Вы можете подготовить новый контейнер со всеми обновлениями, настроить его для рабочей среды и просто указать новый контейнер после его готовности.</span><span class="sxs-lookup"><span data-stu-id="a41d4-119">You can prepare a new container with all of your updates, set up the container for production, and just point to the new container once it's ready.</span></span> <span data-ttu-id="a41d4-120">Можно также архивировать различные версии вашего приложения, используя контейнеры, и при необходимости поддерживать их работу в качестве резервного ресурса.</span><span class="sxs-lookup"><span data-stu-id="a41d4-120">You can also archive different versions of your app using containers and keep them running as a safety fallback if needed.</span></span>

<span data-ttu-id="a41d4-121">Дополнительные сведения см. в разделе [Введение в контейнеры DOCKER](/learn/modules/intro-to-docker-containers/) на Microsoft Learn.</span><span class="sxs-lookup"><span data-stu-id="a41d4-121">To learn more, checkout the [Introduction to Docker containers](/learn/modules/intro-to-docker-containers/) on Microsoft Learn.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="a41d4-122">предварительные требования</span><span class="sxs-lookup"><span data-stu-id="a41d4-122">Prerequisites</span></span>

- <span data-ttu-id="a41d4-123">Убедитесь, что на компьютере установлена ОС Windows 10, [обновлена до версии 2004](ms-settings:windowsupdate), **Сборка 18362** или более поздняя версия.</span><span class="sxs-lookup"><span data-stu-id="a41d4-123">Ensure your machine is running Windows 10, [updated to version 2004](ms-settings:windowsupdate), **Build 18362** or higher.</span></span>
- <span data-ttu-id="a41d4-124">[Включите WSL, установите дистрибутив Linux и обновите его до версии WSL 2](../install-win10.md).</span><span class="sxs-lookup"><span data-stu-id="a41d4-124">[Enable WSL, install a Linux distribution, and update to WSL 2](../install-win10.md).</span></span>
- <span data-ttu-id="a41d4-125">[Скачайте и установите пакет обновления ядра Linux](../install-win10.md#step-4---download-the-linux-kernel-update-package).</span><span class="sxs-lookup"><span data-stu-id="a41d4-125">[Download and install the Linux kernel update package](../install-win10.md#step-4---download-the-linux-kernel-update-package).</span></span>
- <span data-ttu-id="a41d4-126">[Установите Visual Studio Code](https://code.visualstudio.com/download) *(необязательно)*.</span><span class="sxs-lookup"><span data-stu-id="a41d4-126">[Install Visual Studio Code](https://code.visualstudio.com/download) *(optional)*.</span></span> <span data-ttu-id="a41d4-127">Это обеспечит лучшие возможности, включая возможность кодирования и отладки в удаленном контейнере DOCKER и подключения к дистрибутиву Linux.</span><span class="sxs-lookup"><span data-stu-id="a41d4-127">This will provide the best experience, including the ability to code and debug inside a remote Docker container and connected to your Linux distribution.</span></span>
- <span data-ttu-id="a41d4-128">[Установите терминал Windows](/windows/terminal/get-started) *(необязательно)*.</span><span class="sxs-lookup"><span data-stu-id="a41d4-128">[Install Windows Terminal](/windows/terminal/get-started) *(optional)*.</span></span> <span data-ttu-id="a41d4-129">Это обеспечит лучшие возможности, включая возможность настройки и открытия нескольких терминалов в одном интерфейсе (включая Ubuntu, Debian, PowerShell, Azure CLI или то, что вы предпочитаете использовать).</span><span class="sxs-lookup"><span data-stu-id="a41d4-129">This will provide the best experience, including the ability to customize and open multiple terminals in the same interface (including Ubuntu, Debian, PowerShell, Azure CLI, or whatever you prefer to use).</span></span>
- <span data-ttu-id="a41d4-130">[Зарегистрируйте идентификатор DOCKER в DOCKER Hub](https://hub.docker.com/signup) *(необязательно)*.</span><span class="sxs-lookup"><span data-stu-id="a41d4-130">[Sign up for a Docker ID at Docker Hub](https://hub.docker.com/signup) *(optional)*.</span></span>

> [!NOTE]
> <span data-ttu-id="a41d4-131">WSL может запускать дистрибутивы в режиме WSL версии 1 или WSL 2.</span><span class="sxs-lookup"><span data-stu-id="a41d4-131">WSL can run distributions in both WSL version 1 or WSL 2 mode.</span></span> <span data-ttu-id="a41d4-132">Это можно проверить, открыв PowerShell и введя: `wsl -l -v` .</span><span class="sxs-lookup"><span data-stu-id="a41d4-132">You can check this by opening PowerShell and entering: `wsl -l -v`.</span></span> <span data-ttu-id="a41d4-133">Убедитесь, что дистрибутив настроен на использование WSL 2, введя: `wsl --set-version  <distro> 2` .</span><span class="sxs-lookup"><span data-stu-id="a41d4-133">Ensure that the your distribution is set to use WSL 2 by entering: `wsl --set-version  <distro> 2`.</span></span> <span data-ttu-id="a41d4-134">Замените на `<distro>` имя дистрибутив (например, Ubuntu 18,04).</span><span class="sxs-lookup"><span data-stu-id="a41d4-134">Replace `<distro>` with the distro name (e.g. Ubuntu 18.04).</span></span>
> 
> <span data-ttu-id="a41d4-135">В WSL версии 1 из-за фундаментальных различий между Windows и Linux подсистема DOCKER не смогла запуститься непосредственно внутри WSL, поэтому Группа DOCKER разработала альтернативное решение с использованием виртуальных машин Hyper-V и Линукскит.</span><span class="sxs-lookup"><span data-stu-id="a41d4-135">In WSL version 1, due to fundamental differences between Windows and Linux, the Docker Engine couldn't run directly inside WSL, so the Docker team developed an alternative solution using Hyper-V VMs and LinuxKit.</span></span> <span data-ttu-id="a41d4-136">Однако поскольку WSL 2 теперь работает в ядре Linux с полной емкостью системных вызовов, Docker можно полностью запустить в WSL 2.</span><span class="sxs-lookup"><span data-stu-id="a41d4-136">However, since WSL 2 now runs on a Linux kernel with full system call capacity, Docker can fully run in WSL 2.</span></span> <span data-ttu-id="a41d4-137">Это означает, что контейнеры Linux могут работать изначально без эмуляции, что обеспечивает лучшую производительность и совместимость со средствами Windows и Linux.</span><span class="sxs-lookup"><span data-stu-id="a41d4-137">This means that Linux containers can run natively without emulation, resulting in better performance and interoperability between your Windows and Linux tools.</span></span>

## <a name="install-docker-desktop"></a><span data-ttu-id="a41d4-138">Установка Docker Desktop</span><span class="sxs-lookup"><span data-stu-id="a41d4-138">Install Docker Desktop</span></span>

<span data-ttu-id="a41d4-139">Если серверная часть WSL 2 поддерживается в DOCKER Desktop для Windows, вы можете работать в среде разработки на основе Linux и создавать контейнеры на основе Linux, используя Visual Studio Code для редактирования кода и отладки, а также запуска контейнера в браузере Microsoft ребра в Windows.</span><span class="sxs-lookup"><span data-stu-id="a41d4-139">With the WSL 2 backend supported in Docker Desktop for Windows, you can work in a Linux-based development environment and build Linux-based containers, while using Visual Studio Code for code editing and debugging, and running your container in the Microsoft Edge browser on Windows.</span></span>

<span data-ttu-id="a41d4-140">Чтобы установить DOCKER (после [установки WSL 2](../install-win10.md)), сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="a41d4-140">To install Docker (after already [installing WSL 2](../install-win10.md)):</span></span>

1. <span data-ttu-id="a41d4-141">Скачайте [DOCKER Desktop](https://docs.docker.com/docker-for-windows/wsl/#download) и следуйте инструкциям по установке.</span><span class="sxs-lookup"><span data-stu-id="a41d4-141">Download [Docker Desktop](https://docs.docker.com/docker-for-windows/wsl/#download) and follow the installation instructions.</span></span>

2. <span data-ttu-id="a41d4-142">После установки запустите приложение DOCKER Desktop из меню "Пуск" Windows, а затем выберите значок DOCKER в меню "скрытые значки" панели задач.</span><span class="sxs-lookup"><span data-stu-id="a41d4-142">Once installed, start Docker Desktop from the Windows Start menu, then select the Docker icon from the hidden icons menu of your taskbar.</span></span> <span data-ttu-id="a41d4-143">Щелкните правой кнопкой мыши значок, чтобы открыть меню команд DOCKER и выбрать пункт "Параметры".</span><span class="sxs-lookup"><span data-stu-id="a41d4-143">Right-click the icon to display the Docker commands menu and select "Settings".</span></span>
    <span data-ttu-id="a41d4-144">![Значок панели мониторинга для DOCKER Desktop](../media/docker-starting.png)</span><span class="sxs-lookup"><span data-stu-id="a41d4-144">![Docker Desktop dashboard icon](../media/docker-starting.png)</span></span>

3. <span data-ttu-id="a41d4-145">Убедитесь, что флажок "использовать ядро на основе WSL 2" установлен в **параметрах**  >  **Общие**.</span><span class="sxs-lookup"><span data-stu-id="a41d4-145">Ensure that "Use the WSL 2 based engine" is checked in **Settings** > **General**.</span></span>
    <span data-ttu-id="a41d4-146">![Общие параметры DOCKER Desktop](../media/docker-running.png)</span><span class="sxs-lookup"><span data-stu-id="a41d4-146">![Docker Desktop general settings](../media/docker-running.png)</span></span>

4. <span data-ttu-id="a41d4-147">Выберите из установленных дистрибутивов WSL 2, для которых вы хотите включить интеграцию с DOCKER, перейдя по следующим **параметрам**  >  **ресурсы**  >  **WSL Integration**.</span><span class="sxs-lookup"><span data-stu-id="a41d4-147">Select from your installed WSL 2 distributions which you want to enable Docker integration on by going to: **Settings** > **Resources** > **WSL Integration**.</span></span>
    <span data-ttu-id="a41d4-148">![Параметры ресурсов DOCKER Desktop](../media/docker-dashboard.png)</span><span class="sxs-lookup"><span data-stu-id="a41d4-148">![Docker Desktop resource settings](../media/docker-dashboard.png)</span></span>

5. <span data-ttu-id="a41d4-149">Чтобы убедиться, что DOCKER установлен, откройте дистрибутив WSL (например, Ubuntu) и отобразите версию и номер сборки, введя следующее: `docker --version`</span><span class="sxs-lookup"><span data-stu-id="a41d4-149">To confirm that Docker has been installed, open a WSL distribution (e.g. Ubuntu) and display the version and build number by entering: `docker --version`</span></span>

6. <span data-ttu-id="a41d4-150">Проверьте, правильно ли работает установка, выполнив простой встроенный образ DOCKER с помощью: `docker run hello-world`</span><span class="sxs-lookup"><span data-stu-id="a41d4-150">Test that your installation works correctly by running a simple built-in Docker image using: `docker run hello-world`</span></span>

> [!TIP]
> <span data-ttu-id="a41d4-151">Вот несколько полезных команд DOCKER для получения сведений:</span><span class="sxs-lookup"><span data-stu-id="a41d4-151">Here are a few helpful Docker commands to know:</span></span>
>
> - <span data-ttu-id="a41d4-152">Перечислить команды, доступные в интерфейсе командной строки Docker, можно, выполнив команду `docker`.</span><span class="sxs-lookup"><span data-stu-id="a41d4-152">List the commands available in the Docker CLI by entering: `docker`</span></span>
> - <span data-ttu-id="a41d4-153">Просмотреть сведения о конкретной команде можно, выполнив команду `docker <COMMAND> --help`.</span><span class="sxs-lookup"><span data-stu-id="a41d4-153">List information for a specific command with: `docker <COMMAND> --help`</span></span>
> - <span data-ttu-id="a41d4-154">Перечислить образы Docker на вашем компьютере (сейчас только образ Hello-World) можно, используя следующие команды `docker image ls --all`.</span><span class="sxs-lookup"><span data-stu-id="a41d4-154">List the docker images on your machine (which is just the hello-world image at this point), with: `docker image ls --all`</span></span>
> - <span data-ttu-id="a41d4-155">Перечислите контейнеры на компьютере с помощью: `docker container ls --all` или `docker ps -a` (без флага Показать все, будут отображаться только выполняющиеся контейнеры).</span><span class="sxs-lookup"><span data-stu-id="a41d4-155">List the containers on your machine, with: `docker container ls --all` or `docker ps -a` (without the -a show all flag, only running containers will be displayed)</span></span>
> - <span data-ttu-id="a41d4-156">Перечислите системную информацию об установке DOCKER, включая статистику и ресурсы (память ЦП &), доступные в контексте WSL 2, с помощью: `docker info`</span><span class="sxs-lookup"><span data-stu-id="a41d4-156">List system-wide information regarding the Docker installation, including statistics and resources (CPU & memory) available to you in the WSL 2 context, with: `docker info`</span></span>

## <a name="develop-in-remote-containers-using-vs-code"></a><span data-ttu-id="a41d4-157">Разработка в удаленных контейнерах с помощью VS Code</span><span class="sxs-lookup"><span data-stu-id="a41d4-157">Develop in remote containers using VS Code</span></span>

<span data-ttu-id="a41d4-158">Чтобы приступить к разработке приложений с помощью DOCKER с WSL 2, мы рекомендуем использовать VS Code, а также расширение Remote-WSL и расширение DOCKER.</span><span class="sxs-lookup"><span data-stu-id="a41d4-158">To get started developing apps using Docker with WSL 2, we recommend using VS Code, along with the Remote-WSL extension and Docker extension.</span></span>

- <span data-ttu-id="a41d4-159">[Установите VS Code расширение Remote-WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).</span><span class="sxs-lookup"><span data-stu-id="a41d4-159">[Install the VS Code Remote-WSL extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).</span></span> <span data-ttu-id="a41d4-160">Это расширение позволяет открыть проект Linux, работающий на WSL, в VS Code (не нужно беспокоиться о проблемах с путями, двоичной совместимости или других задачах, связанных с разными операционными системами).</span><span class="sxs-lookup"><span data-stu-id="a41d4-160">This extension enables you to open your Linux project running on WSL in VS Code (no need to worry about pathing issues, binary compatibility, or other cross-OS challenges).</span></span>

- <span data-ttu-id="a41d4-161">[Установите расширение VS code Remote-Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).</span><span class="sxs-lookup"><span data-stu-id="a41d4-161">[Install the VS code Remote-Containers extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).</span></span> <span data-ttu-id="a41d4-162">Это расширение позволяет открыть папку проекта или репозиторий в контейнере, используя преимущества полного набора функций Visual Studio Code для выполнения разработки в контейнере.</span><span class="sxs-lookup"><span data-stu-id="a41d4-162">This extension enables you to open your project folder or repo inside of a container, taking advantage of Visual Studio Code's full feature set to do your development work within the container.</span></span>

- <span data-ttu-id="a41d4-163">[Установите VS Code расширение DOCKER](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker).</span><span class="sxs-lookup"><span data-stu-id="a41d4-163">[Install the VS Code Docker extension](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker).</span></span> <span data-ttu-id="a41d4-164">Это расширение добавляет функциональные возможности для создания и развертывания контейнерных приложений, а также управления ими в VS Code.</span><span class="sxs-lookup"><span data-stu-id="a41d4-164">This extension adds the functionality to build, manage, and deploy containerized applications from  inside VS Code.</span></span> <span data-ttu-id="a41d4-165">(Для фактического использования контейнера в качестве среды разработки требуется расширение Remote-Container.)</span><span class="sxs-lookup"><span data-stu-id="a41d4-165">(You need the Remote-Container extension to actually use the container as your dev environment.)</span></span>

<span data-ttu-id="a41d4-166">Давайте создадим контейнер разработки для существующего проекта приложения с помощью DOCKER.</span><span class="sxs-lookup"><span data-stu-id="a41d4-166">Let's use Docker to create a development container for an existing app project.</span></span>

1. <span data-ttu-id="a41d4-167">В этом примере я использую исходный код из [руководства по Hello World Django](/windows/python/web-frameworks#hello-world-tutorial-for-django) в среде разработки Python Настройка документов. Этот шаг можно пропустить, если вы предпочитаете использовать собственный исходный код проекта.</span><span class="sxs-lookup"><span data-stu-id="a41d4-167">For this example, I'll use the source code from my [Hello World tutorial for Django](/windows/python/web-frameworks#hello-world-tutorial-for-django) in the Python development environment set up docs. You can skip this step if you prefer to use your own project source code.</span></span> <span data-ttu-id="a41d4-168">Чтобы скачать веб-приложение HelloWorld-Django из GitHub, откройте терминал WSL (например, Ubuntu) и введите: `git clone https://github.com/mattwojo/helloworld-django.git`</span><span class="sxs-lookup"><span data-stu-id="a41d4-168">To download my HelloWorld-Django web app from GitHub, open a WSL terminal (Ubuntu for example) and enter: `git clone https://github.com/mattwojo/helloworld-django.git`</span></span>

    > [!NOTE]
    > <span data-ttu-id="a41d4-169">Всегда храните код в той же файловой системе, в которой вы используете средства.</span><span class="sxs-lookup"><span data-stu-id="a41d4-169">Always store your code in the same file system that you're using tools in.</span></span> <span data-ttu-id="a41d4-170">Это приведет к повышению производительности доступа к файлам.</span><span class="sxs-lookup"><span data-stu-id="a41d4-170">This will result in faster file access performance.</span></span> <span data-ttu-id="a41d4-171">В этом примере мы используем Linux дистрибутив (Ubuntu) и хотим сохранить файлы проекта в файловой системе WSL `\\wsl\` .</span><span class="sxs-lookup"><span data-stu-id="a41d4-171">In this example, we are using a Linux distro (Ubuntu) and want to store our project files on the WSL file system `\\wsl\`.</span></span> <span data-ttu-id="a41d4-172">Хранение файлов проекта в файловой системе Windows значительно замедляет работу при использовании средств Linux в WSL для доступа к этим файлам.</span><span class="sxs-lookup"><span data-stu-id="a41d4-172">Storing project files on the Windows file system would significantly slow things down when using Linux tools in WSL to access those files.</span></span>

2. <span data-ttu-id="a41d4-173">В терминале WSL измените каталоги на папку исходного кода для этого проекта:</span><span class="sxs-lookup"><span data-stu-id="a41d4-173">From your WSL terminal, change directories to the source code folder for this project:</span></span>

    ```bash
    cd helloworld-django
    ```

3. <span data-ttu-id="a41d4-174">Откройте проект в VS Code, работающем на локальном сервере расширений Remote-WSL, введя следующее:</span><span class="sxs-lookup"><span data-stu-id="a41d4-174">Open the project in VS Code running on the local Remote-WSL extension server by entering:</span></span>

    ```bash
    code .
    ```

    <span data-ttu-id="a41d4-175">Убедитесь, что вы подключены к WSL Linux дистрибутив, проверив зеленый индикатор зеленого цвета в левом нижнем углу экземпляра VS Code.</span><span class="sxs-lookup"><span data-stu-id="a41d4-175">Confirm that you are connected to your WSL Linux distro by checking the green remote indicator in the bottom-left corner of your VS Code instance.</span></span>

    ![Удаленный индикатор VS Code WSL](../media/vscode-remote-indicator.png)

4. <span data-ttu-id="a41d4-177">В VS Code команде паллетте (Ctrl + Shift + P) введите: **Remote-Containers: Open Folder in контейнер...** Если эта команда не отображается при вводе, убедитесь, что вы установили расширение удаленного контейнера, связанное выше.</span><span class="sxs-lookup"><span data-stu-id="a41d4-177">From the VS Code command pallette (Ctrl + Shift + P), enter: **Remote-Containers: Open Folder in Container...** If this command doesn't display as you begin to type it, check to ensure that you've installed the Remote Container extension linked above.</span></span>

    ![VS Code удаленной команды контейнера](../media/docker-extension.png)

5. <span data-ttu-id="a41d4-179">Выберите папку проекта, которую вы хотите контейнеризовать.</span><span class="sxs-lookup"><span data-stu-id="a41d4-179">Select the project folder that you wish to containerize.</span></span> <span data-ttu-id="a41d4-180">В моем случае это `\\wsl\Ubuntu-20.04\home\mattwojo\repos\helloworld-django\`</span><span class="sxs-lookup"><span data-stu-id="a41d4-180">In my case, this is `\\wsl\Ubuntu-20.04\home\mattwojo\repos\helloworld-django\`</span></span>

    ![VS Code папку удаленного контейнера](../media/docker-extension2.png)

6. <span data-ttu-id="a41d4-182">Появится список определений контейнеров, так как в папке проекта (репозитории) еще нет конфигурации Девконтаинер.</span><span class="sxs-lookup"><span data-stu-id="a41d4-182">A list of container definitions will appear, since there is no DevContainer configuration in the project folder (repo) yet.</span></span> <span data-ttu-id="a41d4-183">Список отображаемых определений конфигурации контейнера фильтруется на основе типа проекта.</span><span class="sxs-lookup"><span data-stu-id="a41d4-183">The list of container configuration definitions that appears is filtered based on your project type.</span></span> <span data-ttu-id="a41d4-184">Для моего проекта Django я выберу Python 3.</span><span class="sxs-lookup"><span data-stu-id="a41d4-184">For my Django project, I'll select Python 3.</span></span>

    ![VS Code определений конфигурации удаленных контейнеров](../media/docker-extension3.png)

7. <span data-ttu-id="a41d4-186">Откроется новый экземпляр VS Code, начнется создание нового образа и после завершения сборки будет запущен наш контейнер.</span><span class="sxs-lookup"><span data-stu-id="a41d4-186">A new instance of VS Code will open, begin building our new image, and once the build completed, will start our container.</span></span> <span data-ttu-id="a41d4-187">Вы увидите, что новая `.devcontainer` Папка содержит сведения о конфигурации контейнера в `Dockerfile` `devcontainer.json` файле и.</span><span class="sxs-lookup"><span data-stu-id="a41d4-187">You will see that a new `.devcontainer` folder has appeared with container configuration information inside a `Dockerfile` and `devcontainer.json` file.</span></span>  

    ![Папка VS Code. девконтаинер](../media/docker-extension4.png)

8. <span data-ttu-id="a41d4-189">Чтобы убедиться, что проект по-прежнему подключен к WSL и в контейнере, откройте VS Code интегрированный терминал (Ctrl + Shift + ~).</span><span class="sxs-lookup"><span data-stu-id="a41d4-189">To confirm that your project is still connected to both WSL and within a container, open the VS Code integrated terminal (Ctrl + Shift + ~).</span></span> <span data-ttu-id="a41d4-190">Проверьте операционную систему, введя: `uname` и версию Python с: `python3 --version` .</span><span class="sxs-lookup"><span data-stu-id="a41d4-190">Check the operating system by entering: `uname` and the Python version with: `python3 --version`.</span></span> <span data-ttu-id="a41d4-191">Вы видите, что uname возвращено как Linux, поэтому вы все еще подключены к подсистеме WSL 2, а номер версии Python будет основан на конфигурации контейнера, которая может отличаться от версии Python, установленной в дистрибутиве WSL.</span><span class="sxs-lookup"><span data-stu-id="a41d4-191">You can see that the uname came back as "Linux", so you are still connected to the WSL 2 engine, and Python version number will be based on the container config that may differ from the Python version installed on your WSL distribution.</span></span>

9. <span data-ttu-id="a41d4-192">Чтобы запустить и выполнить отладку приложения в контейнере с помощью Visual Studio Code, сначала откройте меню **выполнить** (Ctrl + Shift + D или выберите вкладку в левой строке меню).</span><span class="sxs-lookup"><span data-stu-id="a41d4-192">To run and debug your app inside of the container using Visual Studio Code, first open the **Run** menu (Ctrl+Shift+D or select the tab on the far left menu bar).</span></span> <span data-ttu-id="a41d4-193">Затем выберите **Запуск и отладка** , чтобы выбрать конфигурацию отладки и выбрать конфигурацию, наиболее подходящую для вашего проекта (в нашем примере это будет «Django»).</span><span class="sxs-lookup"><span data-stu-id="a41d4-193">Then select **Run and Debug** to select a debug configuration and choose the configuration that best suites your project (in my example, this will be "Django").</span></span> <span data-ttu-id="a41d4-194">При этом `launch.json` в папке проекта будет создан файл `.vscode` с инструкциями по запуску приложения.</span><span class="sxs-lookup"><span data-stu-id="a41d4-194">This will create a `launch.json` file in the `.vscode` folder of your project with instructions on how to run your app.</span></span>

    ![VS Code запустить конфигурацию отладки](../media/vscode-run-config.png)

10. <span data-ttu-id="a41d4-196">В VS Code выберите **запустить**  >  **отладку запуска** (или просто нажмите клавишу **F5** ).</span><span class="sxs-lookup"><span data-stu-id="a41d4-196">From inside VS Code, select **Run** > **Start debugging** (or just press the **F5** key).</span></span> <span data-ttu-id="a41d4-197">При этом откроется окно терминала в VS Code. результат должен выглядеть следующим образом: "Запуск сервера разработки при http://127.0.0.1:8000/ выходе из системы на сервере с помощью Control-C".</span><span class="sxs-lookup"><span data-stu-id="a41d4-197">This will open a terminal inside VS Code and you should see a result saying something like: "Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C."</span></span> <span data-ttu-id="a41d4-198">Удерживайте нажатой клавишу CTRL и выберите отображаемый адрес, чтобы открыть приложение в веб-браузере по умолчанию и просмотреть проект, работающий в контейнере.</span><span class="sxs-lookup"><span data-stu-id="a41d4-198">Hold down the Control key and select the address displayed to open your app in your default web browser and see your project running inside of its container.</span></span>

    ![VS Code Запуск контейнера DOCKER](../media/vscode-running-in-container.png)

<span data-ttu-id="a41d4-200">Вы успешно настроили удаленный контейнер разработки с помощью DOCKER Desktop, на базе серверной части WSL 2, который можно использовать для кодирования, сборки, запуска, развертывания или отладки с помощью VS Code!</span><span class="sxs-lookup"><span data-stu-id="a41d4-200">You have now successfully configured a remote development container using Docker Desktop, powered by the WSL 2 backend, that you can code in, build, run, deploy, or debug using VS Code!</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a41d4-201">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="a41d4-201">Troubleshooting</span></span>

### <a name="wsl-docker-context-deprecated"></a><span data-ttu-id="a41d4-202">Нерекомендуемый контекст DOCKER WSL</span><span class="sxs-lookup"><span data-stu-id="a41d4-202">WSL docker context deprecated</span></span>

<span data-ttu-id="a41d4-203">Если вы использовали предварительную ознакомительную версию DOCKER для WSL, возможно, у вас есть контекст DOCKER с именем "WSL", который теперь устарел и больше не используется.</span><span class="sxs-lookup"><span data-stu-id="a41d4-203">If you were using an  early Tech Preview of Docker for WSL, you may have a Docker context called "wsl" that is now deprecated and no longer used.</span></span> <span data-ttu-id="a41d4-204">Можно проверить с помощью команды: `docker context ls` .</span><span class="sxs-lookup"><span data-stu-id="a41d4-204">You can check with the command: `docker context ls`.</span></span> <span data-ttu-id="a41d4-205">Вы можете удалить контекст "WSL", чтобы избежать ошибок с помощью команды: `docker context rm wsl` так, как вы хотите использовать контекст по умолчанию для Windows и WSL2.</span><span class="sxs-lookup"><span data-stu-id="a41d4-205">You can remove this "wsl" context to avoid errors with the command: `docker context rm wsl` as you want to use the default context for both Windows and WSL2.</span></span>

<span data-ttu-id="a41d4-206">Возможные ошибки, которые могут возникнуть при работе с этим нерекомендуемым контекстом WSL, включают: `docker wsl open //./pipe/docker_wsl: The system cannot find the file specified.` или `error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_wsl/v1.40/images/json?all=1: open //./pipe/docker_wsl: The system cannot find the file specified.`</span><span class="sxs-lookup"><span data-stu-id="a41d4-206">Possible errors you might encounter with this deprecated wsl context include: `docker wsl open //./pipe/docker_wsl: The system cannot find the file specified.` or `error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_wsl/v1.40/images/json?all=1: open //./pipe/docker_wsl: The system cannot find the file specified.`</span></span>

<span data-ttu-id="a41d4-207">Дополнительные сведения об этой ошибке см. в статье [Настройка DOCKER в Windows System для Linux (WSL2) в Windows 10](https://www.hanselman.com/blog/HowToSetUpDockerWithinWindowsSystemForLinuxWSL2OnWindows10.aspx).</span><span class="sxs-lookup"><span data-stu-id="a41d4-207">For more on this issue, see [How to set up Docker within Windows System for Linux (WSL2) on Windows 10](https://www.hanselman.com/blog/HowToSetUpDockerWithinWindowsSystemForLinuxWSL2OnWindows10.aspx).</span></span>

### <a name="trouble-finding-docker-image-storage-folder"></a><span data-ttu-id="a41d4-208">Не удается найти папку хранилища образов DOCKER</span><span class="sxs-lookup"><span data-stu-id="a41d4-208">Trouble finding docker image storage folder</span></span>

<span data-ttu-id="a41d4-209">DOCKER создает две папки дистрибутив для хранения данных:</span><span class="sxs-lookup"><span data-stu-id="a41d4-209">Docker creates two distro folders to store data:</span></span>
- <span data-ttu-id="a41d4-210">\\WSL $ \доккер-десктоп</span><span class="sxs-lookup"><span data-stu-id="a41d4-210">\\wsl$\docker-desktop</span></span>
- <span data-ttu-id="a41d4-211">\\WSL $ \доккер-десктоп-Дата</span><span class="sxs-lookup"><span data-stu-id="a41d4-211">\\wsl$\docker-desktop-data</span></span>

<span data-ttu-id="a41d4-212">Эти папки можно найти, открыв дистрибутив WSL Linux и введя: `explorer.exe .` для просмотра папки в проводнике Windows.</span><span class="sxs-lookup"><span data-stu-id="a41d4-212">You can find these folders by opening your WSL Linux distribution and entering: `explorer.exe .` to view the folder in Windows File Explorer.</span></span> <span data-ttu-id="a41d4-213">Введите: `\\wsl\<distro name>\mnt\wsl` замените `<distro name>` именем вашего распространения (IE. Ubuntu-20,04) для просмотра этих папок.</span><span class="sxs-lookup"><span data-stu-id="a41d4-213">Enter: `\\wsl\<distro name>\mnt\wsl` replacing `<distro name>` with the name of your distribution (ie. Ubuntu-20.04) to see these folders.</span></span>

<span data-ttu-id="a41d4-214">Дополнительные сведения о поиске расположений хранилищ DOCKER в WSL см. в этой [статье из РЕПОЗИТОРИЯ WSL](https://github.com/microsoft/WSL/issues/4176) или этой [стакковерлов записи](https://stackoverflow.com/questions/62380124/where-docker-image-is-stored-with-docker-desktop-for-windows).</span><span class="sxs-lookup"><span data-stu-id="a41d4-214">Find more on locating docker storage locations in WSL, see this [issue from the WSL repo](https://github.com/microsoft/WSL/issues/4176) or this [StackOverlow post](https://stackoverflow.com/questions/62380124/where-docker-image-is-stored-with-docker-desktop-for-windows).</span></span>

<span data-ttu-id="a41d4-215">Дополнительные сведения об устранении общих проблем в WSL см. в документации по [устранению неполадок](../troubleshooting.md) .</span><span class="sxs-lookup"><span data-stu-id="a41d4-215">For more help with general troubleshooting issues in WSL, see the [Troubleshooting](../troubleshooting.md) doc.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a41d4-216">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="a41d4-216">Additional resources</span></span>

- [<span data-ttu-id="a41d4-217">Документы docker: рекомендации по использованию приложения DOCKER Desktop с WSL 2</span><span class="sxs-lookup"><span data-stu-id="a41d4-217">Docker docs: Best practices for Docker Desktop with WSL 2</span></span>](https://docs.docker.com/docker-for-windows/wsl/#best-practices)
- [<span data-ttu-id="a41d4-218">Обратная связь для DOCKER Desktop для Windows: файл проблемы</span><span class="sxs-lookup"><span data-stu-id="a41d4-218">Feedback for Docker Desktop for Windows: File an issue</span></span>](https://github.com/docker/for-win/issues)
- [<span data-ttu-id="a41d4-219">Блог VS Code: рекомендации по выбору среды разработки</span><span class="sxs-lookup"><span data-stu-id="a41d4-219">VS Code Blog: Guidelines for choosing a development environment</span></span>](https://code.visualstudio.com/docs/containers/choosing-dev-environment#_guidelines-for-choosing-a-development-environment)
- [<span data-ttu-id="a41d4-220">Блог VS Code. Использование DOCKER в WSL 2</span><span class="sxs-lookup"><span data-stu-id="a41d4-220">VS Code Blog: Using Docker in WSL 2</span></span>](https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2)
- [<span data-ttu-id="a41d4-221">Блог VS Code: использование удаленных контейнеров в WSL 2</span><span class="sxs-lookup"><span data-stu-id="a41d4-221">VS Code Blog: Using Remote Containers in WSL 2</span></span>](https://code.visualstudio.com/blogs/2020/07/01/containers-wsl)
- [<span data-ttu-id="a41d4-222">Hanselminutes подкаст: создание DOCKER замечательная для разработчиков с помощью Simon Феркуел</span><span class="sxs-lookup"><span data-stu-id="a41d4-222">Hanselminutes Podcast: Making Docker lovely for Developers with Simon Ferquel</span></span>](https://hanselminutes.com/736/making-docker-lovely-for-developers-with-simon-ferquel)
